<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="正经人谁写日记啊"><title>The tragedy of Systemd - 翻译 | Tilnel's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">The tragedy of Systemd - 翻译</h1><a id="logo" href="/.">Tilnel's Blog</a><p class="description">我需要先行到光年以外，为列星指明公转的轨道，否则你便看不到下一夜的闪烁与纷纭。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">The tragedy of Systemd - 翻译</h1><div class="post-meta">2024-07-24<span> | </span><span class="category"><a href="/categories/%E6%90%AC%E8%BF%90/">搬运</a></span></div><a class="disqus-comment-count" href="/20240724-translate/#vcomment"><span class="valine-comment-count" data-xid="/20240724-translate/"></span><span> 条评论</span></a><div class="post-content"><blockquote>
<p>因为是打轴用的所以会断句换行。</p>
</blockquote>
<p>好的。</p>
<p>谢谢大家的到来 我是 Benno Rice</p>
<p>我知道这对你们中的一些人来说可能有点震惊。</p>
<p>我有一些观点。所以这是我开始的一次演讲之一，你知道我有了一个想法，然后我想出了标题，突然一切都开始真正成形了，尤其是当我查看“悲剧”这个词时，维基百科说悲剧是基于人类苦难的一种戏剧形式，引发观众的净化或快感，我认为在这个主题中有足够的苦难可以分享，希望我能给观众带来一些愉悦。</p>
<p>这次演讲的另一个重要影响是每个人现在应该都已经读过的一篇文章，如果没有，请去读一读。是由 Aurynn Shaw 写的，名为《Contempt Culture》。这篇文章的大意是人们使用轻蔑作为一种社会标志，文章本身主要围绕语言社区展开，所以 Python 社区嘲笑 Perl 社区，Perl 社区嘲笑 PHP 社区，依此类推。但其中的许多概念在其他方面也适用，最后一个真正促成这次演讲的概念是变化。变化是一件棘手的事情，因为变化威胁到我们熟悉的事物，而熟悉的事物是好的，熟悉的事物是舒适的。但这并不总是意味着它是好的。它当然也不意味着如果它存在了很长时间，现在仍然是好的。所以有人还告诉我悲剧分为五幕，那么让我们从第一幕开始吧。</p>
<p>一开始有 UNIX。嗯，其实在这之前还有很多，但为了这次演讲，我们从 UNIX 开始。UNIX 是一个美丽的意外，如果它没有在特定的地方、特定的时间、以特定的方式发生，它就不会变成今天的样子。它是对一堆以前的系统的反应，因为它非常简单。他们看了一堆当时提供的其他系统，觉得：“你知道吗，这些系统试图做得太多了。我们可以做得更好。我们只需要从小处开始，然后逐步改进。”它采取了一种非常简单的方法来自举，特别是在自举用户空间方面。</p>
<p>这是 INIT 的手册页。它说 INIT 是启动过程的最后一步。通常它的角色是为每种类型的设备创建一个进程。对不起，这是 1979 年的第七版 UNIX。你知道吗，虽然时间过去了很久，但它听起来还是像老式的 INIT 做的事情。但有一件事，当我阅读这段内容时，我真的被触动了，那就是“维护功能”这个短语，比如挂载文件系统和启动守护进程。有两件事让我印象深刻。首先，当时守护进程的定义是什么。这是运行第七版 UNIX 的 PDP 1170 上的 PS 输出。正如你所看到的，那里没有太多事情发生。INIT 被多次 fork 以处理多个终端或打字机。你有 cron，更新的任务是每隔一段时间写一次文件系统超级块，以防止它消失。事情是，它们随着时间的推移没有太大的变化，比如这是运行 4.3 BSD 的 VAX-11&#x2F;730。正如你所看到的，事情并没有太大的变化。我们实际上有一个真正的 getty，对那些不知道的人来说，getty 是处理串行控制台的东西，这是你应该问你爷爷或奶奶的。</p>
<p>它有一个 ROUTED 和一个 INETD，还有几个 TELNETD，这就是事情开始变得有趣的地方，因为 INETD 就像一个服务超级守护进程一样。它的工作是监听所有可以连接的套接字，并在有连接时 fork 一个进程来处理它。这在互联网出现之前运作良好。在我继续之前，非常感谢 Living Computers Museum 和实验室，他们让我访问这些机器以获取截图。如果你礼貌地请求，他们也会让你访问 PDP 1170。</p>
<p>所以，互联网出现了。INETD 模型在你处理少量事务时运作良好，比如通过 telnet 连接传输的数据量实际上并不多，并且没有太多非短暂的状态。如果连接断开，你只需重新连接，并通过其他方式恢复状态。FTP 也是如此，几乎所有 INETD 处理的事务也是如此。网络看起来也会那样运作。然后它变得非常非常非常受欢迎。于是你最终面临每个连接都 fork 一个进程的问题，这并不适合大规模应用。然后你还会遇到这些相当恼人的事情，比如数据库，你有大量持久状态，不希望它们在调用之间消失。这引导我们到了今天所知道的服务。它是一种超集的守护进程，通常包含多个守护进程或一堆守护进程的克隆或类似的连续进程和行为。老式的 INIT 可以启动这些东西，但它们在那之后并不会真正参与管理。它们只是启动它们然后离开，如果它崩溃了，它们就不管了。</p>
<p>即使有 SystemV 功能，比如 <i>inittab</i> 可以重新启动东西，因为在老式 UNIX 系统上唯一可以正确重新启动的东西是 getty。随着终端的来来去去，getty 会被重新启动，SystemV <i>inittab</i> 让你可以指定其他进程来这样做，但再次说明，这只是如果这个进程崩溃了就重新启动它，并不特别细致。而且这还不是 INIT 和 &#x2F;etc&#x2F;rc 要做的唯一事情。回到这段引用。它混淆了挂载文件系统和启动守护进程。这两者是相关但非常独立的事情。一个是系统配置，而我说的配置不是编辑 &#x2F;etc 下的文件。我指的是像飞行员降落飞机时，他们将飞机置于降落配置中，调整襟翼等各种设置。系统配置是确保你的文件系统已挂载，接口已配置。这些事情是一种设置并大多不变的事情，但它们与服务引导混在一起，这是一种启动守护进程然后离开的方式。这种混淆以我们不常见的方式结合在一起，因为我们非常熟悉它。它真的阻碍了自动化服务管理的事情，因为在这个设置中不存在这样的东西，这就是 UpStart 和 SYSTEMD 出现的地方，因为它们处理需要更积极管理的服务。</p>
<p>在我们继续讨论其他操作系统之前，让我们看看其他操作系统。Windows NT 从一开始就有一个非常强大的服务模型。大部分基于一个名为 SVCHOST 的特定进程，这导致了许多问题，比如安全问题等。但总的来说，它的服务模型包括启动、停止、重新启动、自动重新启动等功能是从一开始就存在的。很多源自它作为一个复杂的操作系统的遗产，而 UNIX 正在反对这种复杂。另一个有非常好的服务模型的操作系统，至少在现阶段，是 MacOS 及其衍生产品，比如 iOS、watchOS、tvOS 和 carOS 以及他们发布的其他任何东西。所以 MacOS 的应用程序模型也提供了很多有趣的东西，它允许你与主机进行更丰富的交互。MacOS 和 iOS 应用程序通常以一个应用程序代理的形式出现，接收来自周围环境的一系列调用，告诉它们事情正在发生，比如你已经启动了，你现在要退出了，系统内存不足，如果你不做点什么，我会杀掉你。笑。</p>
<p>另一个来自 Apple 的东西是 LAUNCHD，这是进入第二幕的好时机。那么 SYSTEMD 究竟是什么，当你真正深入研究时，从 LAUNCHD 开始。LAUNCHD 出现在 MacOS Tiger 中。它迅速接管了 MacOS 中几乎所有的事件处理守护进程。它接管了 INIT，接管了 CRON 和 AT，接管了 INETD，并从这个 INETD 的概念扩展出来，认为“等等，我有所有这些系统服务守护进程，它们不需要一直运行，但需要时必须启动。”所以它不仅可以监听 TCP 端口等等，以便在需要时启动这些服务守护进程。一旦你有了这些，你就不需要在启动时启动它们，这加快了整个过程的速度。它还可以在需要时重新启动进程。如果进程退出，它会重新启动它。很好。</p>
<p>所以 LAUNCHD 的想法是尽可能多地将系统服务移到这些可以按需启动的守护进程中，因为当你想一想，实际的底层系统在你谈论像 MacOS 或 Windows 甚至 Linux（如果你运行 GNOME 或 KDE 等桌面界面）时，要比你想象的大得多。所以在 MacOS 中，服务在有请求时启动，这意味着你提高了启动时间，改善了功耗，通过使对这些东西的访问更细化，提高了安全性。Apple 能做到这一点，因为它有广泛使用的 MACH 端口和消息传递系统可以用来实现这一点。</p>
<p>我想指出的一点是，因为这个演讲最初是为 BSD 会议准备的，很多 BSD 用户喜欢抱怨 SYSTEMD，但如果你说“哦，你为什么不使用 LAUNCHD”，他们会说“哦对，LAUNCHD 很好”。实际上，SYSTEMD 基本上就是 LAUNCHD 的一个模仿。因为在 LAUNCHD 发布五年后，有一个名叫 Lennart Poettering 的人，他在看了 UpStart 和其他几个东西后，觉得不太满意。UpStart 是一个旧的启动机制，通常用于 Ubuntu。我想。它是事件驱动的，像 LAUNCHD 和 SYSTEMD 一样。它仍然使用 shell 脚本。它可以处理比 INIT 更多的事件类型，这并不难，但 Lennart 似乎觉得它在依赖顺序处理方面做得不够，还有其他一些缺失的功能。所以你可以找到这篇博客文章，这基本上是他提出 SYSTEMD 概念的地方。它详细介绍了背后的理由，有几句有趣的引用：“为了实现快速高效的启动，两个关键因素是启动更少和更并行地启动。”它没有过多关注启动速度，但这确实成为了一个附带效果。“一个负责维护服务的 init 系统需要监听硬件和软件的变化。”这正是 MacOS 和 iOS 做得非常好的事情。</p>
<p>当你是一个现代操作系统时，你生活在一个比过去更动态的环境中，即使你是在服务器或虚拟机上运行，情况也是如此。很多事情需要处理，很多事情以事件的形式出现，需要处理。如果你从系统引导的概念转向“我要处理事件”，那么 SYSTEMD 做得非常好。他实际上在这篇文章中引用了 LAUNCHD 作为灵感来源。“这种逻辑新吗？”并不新。它基本上是 LAUNCHD。从这篇文章中，我感觉 Lennart 很喜欢 Apple 做的很多事情，即使他不喜欢他们的具体实现方式，因为他之前的项目是 Apple Bonjour 系统的一个实现，还有一个音频系统，他直接与 Apple 的核心音频进行比较。所以我们从一个服务管理器演变为一个系统管理器。再次与 Apple 有相似之处，因为 SYSTEMD 虽然最初作为一个 INIT 系统开始，但迅速扩展并开始承担其他任务，这在某种程度上是一种合理的反应，“我们将对系统级事件做出反应”。但我认为他们迅速意识到一个概念，即系统不再只有两个部分：用户空间和内核。你知道，内核负责硬件和 TCP 栈等，用户空间运行守护进程和其他东西。但许多曾经在内核中静态的东西现在变得更加动态。我仍然记得自己构建 FreeBSD 内核时，必须指定“这个卡在这个插槽上，用这个 IRQ 等等”。现在这些都是动态的，可以随时改变。网络更加动态。DHCP，我的 ipv6 自动配置。这些东西都更加动态，我们需要一种方法将它们结合起来进行管理，而不需要安装 15 个不同的包，它们的行为各不相同。这最终成为了我称之为系统层的东西，它可以包括运行在用户空间或内核空间中的内容，但提供系统级的功能，而不是你直接编写或使用的内容。SYSTEMD 作为一个项目，通过提供所有这些用户空间系统层功能来补充 Linux 内核。它以一种对熟悉旧方法的人来说不太熟悉的方式来实现这一点，但这确实意味着人们可以停止通过结合 15 个不同的分散包来重新发明这些东西，这些包都有不同的配置文件格式和不同的行为。</p>
<p>那么这在现实中是如何运作的呢？SYSTEMD 实际上被广泛采用，但并非普及。这些是 SYSTEMD 进入特定发行版的日期，在这些发行版之间，你基本上涵盖了 Linux 的大部分安装基础。我不确定，但有人可能会指出我是否错误。Debian 是其中一个有趣的例子，因为他们对是否采用 SYSTEMD 进行了非常长时间的讨论，这可以理解，因为他们运行多个内核。如果你愿意，你可以在 FreeBSD 内核上运行 Debian。那里的争论很多，真正棘手的是他们最终决定采用它，但许多参与指导讨论的人最终辞职了。</p>
<p>接下来我要讨论的是一些人们常提出的反对 SYSTEMD 的常见论点。“它违反了 UNIX 哲学！”这个论点我经常发现是基于这样一种观念：SYSTEMD 是一个二进制文件。如果你将 DHCP 客户端和 NTP 客户端都放在一个二进制文件中，是的，我会同意这有点荒谬，但事实并非如此。它是一堆独立的二进制文件，都是一个项目的一部分。作为一个 BSD 用户，我确实理解将一堆分散的代码集中到一个存储库中进行集中管理的概念。另一个论点是它臃肿且单片。再次说明，它并不是一个真正的单片。我可以理解人们为什么对它吸纳了许多其他项目的功能感到不满，但我理解他们在某种程度上为什么这样做。我对此并不特别担忧。</p>
<p>它有漏洞！这就是软件。问题是，这个论点有多种形式。是的，SYSTEMD 有漏洞，是的，因为它是如此核心的组件，这些漏洞会非常显眼。但还有一个变种是，“哦，如果你要编写一个 init 系统，你必须确保它没有任何漏洞以保证其正常运行。”这确实提高了替换那部分代码的门槛，我认为这不是正确的做法。一般来说，我确实同情一些漏洞问题，尽管最近有一个相当有趣的实例，一个 JOURNALD 漏洞导致了代码执行。一位名不见经传的黑客 Matthew Garrett 指出，在他看来，教训不是不要使用 SYSTEMD，而是可能不应该使用 C 来编写这些东西。对此有人回应说，实际上这意味着不要使用 SYSTEMD，等等。然后 Matthew 回复了这一点，这需要一点解释，Howard Chu 是 OpenLDAP 项目的首席架构师。那个链接是到 OpenLDAP 的 CVE 列表。所有软件都有漏洞。一些漏洞会成为安全问题。SYSTEMD 确实有一些相当令人印象深刻的漏洞，比如 JOURNALD 分配堆栈上的内存，不要那样做。但我认为需要区分 SYSTEMD 的实现和 SYSTEMD 的一组思想。</p>
<p>此外，还有一个人们喜欢提出的论点。我不会为 Lennart 的社区互动方式辩护，但我会说，你必须佩服一个人在工作时想“我要编写自己的 INIT 系统”，实际上是要为 Linux 创建一个完整的系统层，并向他的管理层提出，“嘿，我要做这个”，他们说“不行”。然后他回来并成功实现了它，并且几乎被所有主要的 Linux 发行版采用。这是值得钦佩的，即使你对他的态度不满。</p>
<p>另一个对我来说特别有趣的论点是它不具备可移植性。这对我来说很有趣，因为对于那些不知道的人，我是一个长期的 FreeBSD 开发者。SYSTEMD 是积极针对 Linux 的。它使用了一些 Linux 特有的进程维护钩子，这些钩子在其他系统中不存在。因此，如果它成为管理服务的既定方式，它有可能孤立那些没有这些功能的其他平台。但它从这些东西中获得了一些非常重要的功能。Cgroups 是一个非常有趣的东西。你可以说它应该坚持更多的 UNIX 接口来处理这些事情，但现实是，UNIX 已经死了。UNIX 是为了在病态多样化的平台上保持可移植性。当 UNIX 概念出现时，当 POSIX 首次出现时，它的目的是确保如果你在你的 VAX 上的 4.3 BSD 上编写代码，我不确定 POSIX 是否在那个时候存在，但也许不远了。它也可以在 SunOS 和 (IBM)AIX 上运行，无论数字 UNIX 当时叫什么名字。所以你有一个极其分散的 UNIX 平台范围，代码可以在这些平台上运行，所以每个人都需要一致的操作方式。如今，我认为你基本上只有 Linux 和一些四舍五入的误差。抱歉所有 Solaris 的忠实用户，我这么说是作为一个花费大量时间和职业生涯在 FreeBSD 上的人。FreeBSD 不再能够说，“等等，我们应该用一个接口来做这件事”，因为整个 Linux 社区会说，“哦，我不在乎”。而 Linux 可以说，“好吧，这是 cgroups，接受或不接受”。这是一个有趣的位置。SYSTEMD 从使用非 UNIX 的东西中获得了很大收益。我要指出的一个事情是，这不必是一个负面的事情，因为这意味着 FreeBSD 和其他项目也可以感觉到同样的自由，尝试创建他们想要的东西，而不必考虑“UNIX 对此有什么看法”。</p>
<p>Cgroups 是我一直回到的东西。Cgroups 是一个非常强大的机制，可以创建可管理的进程组。我认为 FreeBSD 早就推出了 jails，但当我看 jails 时，它们比 cgroups 更不灵活，也不够细粒度。SYSTEMD 另一个我认为做得非常好的概念是用户级单元。如果你想要做一个用户空间守护进程，即一个以你身份启动和运行的守护进程，而不需要成为 root 来安装它。在 FreeBSD 上这非常困难。你基本上需要编写一个 shell 脚本，让它“sudo su as su”并执行所有这些。使用 SYSTEMD，我可以在主目录中放一个东西，如果设置正确，它就会启动。另一个方法是玩弄 cron，但玩弄 cron 可能会很有趣。笑。</p>
<p>这一切都归结为变化。SYSTEMD 代表了大量的破坏性变化，这也是这篇演讲的真正悲剧所在。所以是的，人们对变化有复杂的关系。我喜欢说，极客们尤其对变化有复杂的关系。我们热爱变化，当我们自己推动变化时，变化是美好的。一旦变化来自外部，它就变得不可信，它威胁到我们认为的熟悉。像我这样的人从小就认为 INIT 运行 RC，RC 运行一堆 shell 脚本，然后系统就工作了。那种熟悉对我们来说可能是好的，因为我们理解它。这是我们的舒适区，是我们习惯的东西。但我认为在这个时候，一个依赖于 shell 脚本并依赖于理解这些 shell 脚本如何工作、交互和排序的系统引导，可能是我们二十年前就该放下的旧毯子。SYSTEMD 代表了变化，它代表了一个非常破坏性的变化，它代表了由像 Lennart Poettering 这样的人推动的变化，他对要求人们改变的人的同情心似乎不是很强。这导致了一种膝反射反应，因为缺乏同情心不仅仅是 Lennart 的问题。对 SYSTEMD 的反应在某些地方有点过火了。我认为滥用是不好的。没有人需要因为一块软件而向 Lennart Poettering 发送死亡威胁。掌声。而且不仅仅是滥用，轻蔑也是不好的，这是我在 BSDCan 演讲时真正想强调的一点。FreeBSD 不应该为我们没有 SYSTEMD 而感到自豪。我们应该看到我们缺少了一些东西。如果我们嘲笑 Linux 有 SYSTEMD，“那些可怜的 Linux 用户和他们糟糕的软件”。这意味着我们将其视为笑话，而不是一个想法的来源。这不仅适用于 FreeBSD，适用于任何坐在那里说“哦，不，那个 SYSTEMD 真糟糕”的人。不是，仔细看看它。</p>
<p>我对 FreeBSD 社区的最大问题之一是这样的事情，因为对我来说，这代表了我的社区“加入 FreeBSD 吧，我们永远不会改变。”笑。我们拒绝前进。总之，我真的希望人们在看待 SYSTEMD 时，无论他们喜欢还是不喜欢，尤其是如果他们不喜欢，能问“为什么”。为什么 SYSTEMD 会出现？为什么 SYSTEMD 重要？思考这些问题意味着你会突然意识到，“等等，SYSTEMD 是在解决一个问题吗？它在解决什么问题？我能解决得更好吗？”因为如果你不喜欢 SYSTEMD 的一个解决方案就是自己去做一个。至少你会发现这有多么有趣。笑。</p>
<p>从另一个角度来看，这不仅仅是关于我们这些“老顽固”。下一代进入 IT、软件工程、系统管理的人，他们不一定像我们或我一样看待他们正在运行的系统。他们更多地看到的是 API，像网络 API。二十年前我会说“哦，是的，我可以通过在书店上打 HTTP API 来启动一个 UNIX 机器”。这会让我当时大吃一惊。还有像容器这样的东西。以容器思维思考会让你以不同于非容器的方式思考等等。</p>
<p>这将我们带到了最后一部分。SYSTEMD 有什么值得我们学习的？或者它提供了什么？</p>
<p>这是原始演讲的一部分，在这里我基本上告诉了一群 BSD 人他们可以用类似的东西做什么。但我认为有一些有趣的东西，如果你从更高的层面来看 SYSTEMD，有一些值得思考的东西。消息传递传输。SYSTEMD 大量使用 DBUS。我不是 DBUS 的大粉丝，但我是消息的忠实粉丝。Apple 使用 MACH 来做同样的事情。我对 BSD 人说的一个建议是我们应该写自己的消息传输。如果我写一个，我会让它驻留在内核而不是用户空间，这样可以在实际的总线端点上实现更多的安全和认证控制。但你们可以自己写，因为一旦你有了消息传输，编写 RPC 框架就容易多了。为什么需要这个，答案是如果你需要一个平衡机制，使内核和用户空间在代码之上以相同的层次运行，你不想知道你正在交谈的特定服务是由内核处理还是由用户空间处理。你只是希望它发生。你希望能够发送一个 API 请求，说“好吧，网络接口，拿这个 IP 地址并应用”，然后它就会发生。你不想担心，“我是在与内核交谈吗？”</p>
<p>SYSTEMD 提供的另一个很多以前的系统没有提供的东西是一个适当的服务生命周期。正如我所说，Windows 从一开始就有这个。MacOS 自然发展了它，然后在推出 LAUNCHD 之后迅速推动它。它不需要你安装多个不同的系统，这些系统都以不同的方式工作，比如 OpenRC 或 Runit 或 SupervisorD 等。</p>
<p>通过 API 实现自动化听起来简单，但一旦你可以通过一个 API 自动化系统的设置和配置，而不是调用系统命令或其他东西，你基本上就已经编写了大部分设备供应商需要的内容，以制作一个非常好的设备。所以你可以想象像 OpenWRT 可以使用它，但在我的情况下，我曾在一家制作大型存储设备的公司工作，有那种东西会让我们的工作变得非常容易。我认为 SYSTEMD 通过使用 Cgroups 等东西，启用的另一个非常重要的功能是容器。我认为容器非常有趣，不是因为我认为它们是安全的救星，而是因为它们提供了一种很酷的封装方式。SYSTEMD 提供的系统层为这种东西提供了更一致的平台，构建一个应用程序的进入门槛大大降低。但再次说明，SYSTEMD 不必是唯一的实现。你应该去探索。</p>
<p>继续说，我认为 SYSTEMD 对设备的命名方式非常好。我这么说是作为一个曾经宣传 FreeBSD 概念的人，即每个以太网驱动程序应该有自己的名字。虽然我也不喜欢 Solaris 的命名方案，比如磁盘的 <i>c0</i> <i>t0</i>，但我认为基于设备物理属性生成的名称要比基于它们随机出现的顺序命名好得多。我还认为 SYSTEMD 的日志模型非常好。二进制日志并不是一件坏事，只要你有工具可以拆解它们。但拥有一个只追加的日志系统，特别是可以轻松发送到其他地方的只追加日志系统，我认为非常方便。</p>
<p>另一个事情是，随着容器和一堆其他东西，你得到了一个新的应用程序模型。应用程序不再必须是一个单一的二进制文件，或一个启动其他东西的单一二进制文件。它可以是一个作为一个单元管理的一系列封装东西。我认为这是非常强大的。我认为进一步研究如何在 Linux 平台上实现 MacOS 风格的应用程序是非常有趣的，能够从主机系统提供更多的反馈，以便它可以做出反应。</p>
<p>所以在这个演讲开始时，我展示了维基百科对悲剧的定义，它提到悲剧在观众中引发净化的情感。所以净化的定义是通过艺术或任何极端的情感变化，尤其是怜悯和恐惧的净化或清洗。我希望这个演讲能消除对 SYSTEMD 的恐惧，特别是消除对使用 SYSTEMD 的人的怜悯。世界在我们周围变化，我们可以跟随变化，或者试图抵抗它。这适用于很多方面，不仅仅是软件。许多变化发生了，我们需要逻辑地评估并确定我们是否站在正确的一边。我们可以尝试变化。你不必在知道它们有效之前就承诺它们。许多发行版有其他系统，它们用 SYSTEMD 替代并工作。</p>
<p>所以我对在座的每个人的挑战是，看看 SYSTEMD，找出至少一个你喜欢的东西，然后去尝试实现它。谢谢大家。</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/20231017-top/">置顶必读</a><a class="next" href="/20240722-script/">制作视频汉化字母</a></div><div class="nofancybox" id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'2Sm5GfIvJtcJUva0FtUU3gUX-gzGzoHsz',
  appKey:'tMoFHUMjKt3Br9ql4XQuMdu7',
  serverURLs:'',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://s.tilnel.com"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>Great</p><a class="info-icon" href="mailto:502023330051@smail.nju.edu.cn" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/Tilnel" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/COJ/">COJ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DisAlg/">DisAlg</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DisSys/">DisSys</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-System/">Distributed System</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Systems/">Distributed Systems</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%A9%E6%95%99%E5%B7%A5%E4%BD%9C/">助教工作</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%93%B2%E5%AD%A6/">哲学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%95%E6%8B%BE/">夕拾</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91/">并发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BF%83%E7%90%86%E5%AD%A6/">心理学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%83%85%E6%84%9F/">情感</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%90%AC%E8%BF%90/">搬运</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8/">日常</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E8%AE%B0%E8%A1%A5%E5%AE%8C%E8%AE%A1%E5%88%92/">日记补完计划</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%B5%E8%A7%86%E5%89%A7/">电视剧</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%91%E7%A0%94/">科研</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A7%82%E5%BD%B1/">观影</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A7%82%E7%82%B9/">观点</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%B2%E7%A8%BF/">讲稿</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6/">读书</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%85%92/">酒</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/20231017-top/">置顶必读</a></li><li class="post-list-item"><a class="post-list-link" href="/20240724-translate/">The tragedy of Systemd - 翻译</a></li><li class="post-list-item"><a class="post-list-link" href="/20240722-script/">制作视频汉化字母</a></li><li class="post-list-item"><a class="post-list-link" href="/20240721-dnsmasq/">网关吃了我的 dnsmasq REPLY</a></li><li class="post-list-item"><a class="post-list-link" href="/20240720-ipxe/">在没有DHCP的情况下使用PXE-网络启动服务器设置</a></li><li class="post-list-item"><a class="post-list-link" href="/20240718-sshd/">从源码更新 sshd</a></li><li class="post-list-item"><a class="post-list-link" href="/20240718-linuxwol/">Linux wakeonlan 无法正常开启</a></li><li class="post-list-item"><a class="post-list-link" href="/20240718-wol/">Windows 快速启动无法被 wol 唤醒</a></li><li class="post-list-item"><a class="post-list-link" href="/20240718-suspend/">Linux 系统无法正常 suspend （睡眠）</a></li><li class="post-list-item"><a class="post-list-link" href="/20240715-redis/">看看Redis 2.8源码</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.njujb.com" title="张天昀的主页" target="_blank">张天昀的主页</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">Tilnel's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>